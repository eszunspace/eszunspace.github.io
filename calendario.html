<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EsZunSpace — Calendario</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/jpeg" href="logoarriba.jpg">
  <style>
    :root{
      --glass1: rgba(255,255,255,.07);
      --glass2: rgba(255,255,255,.03);
      --stroke: rgba(255,255,255,.12);
      --ring: rgba(0,0,0,.65);
      --fg: #fff;
      --muted: rgba(255,255,255,.7);
      --accent1:#00f0ff; --accent2:#ff00d4;
      --tile: #141416;
      --tile-border: rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      background:#0b0b0c; color:var(--fg);
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;
      opacity:0; transition:opacity .6s ease;
    }
    body.fade-in{opacity:1} body.fade-out{opacity:0}

    /* ===== Header cápsula con marcador activo ===== */
    header.topbar{
      position:sticky; top:0; left:0; right:0; z-index:1000;
      padding:14px 16px;
      background:linear-gradient(180deg, rgba(0,0,0,.65) 0%, rgba(0,0,0,0) 100%);
      backdrop-filter: blur(2px);
    }
    .nav-shell{
      width:min(1200px, 94vw);
      margin:0 auto;
      height:60px; padding:0 18px;
      display:flex; align-items:center; justify-content:space-between;
      border-radius:18px;
      background:linear-gradient(180deg,var(--glass1),var(--glass2));
      border:1px solid var(--stroke);
      box-shadow:0 10px 30px rgba(0,0,0,.6);
      position:relative; overflow:hidden;
    }
    .nav-shell::before{
      content:""; position:absolute; inset:-1px;
      background:conic-gradient(from 0deg, var(--accent1), var(--accent2), var(--accent1));
      filter:blur(22px); opacity:.14; pointer-events:none;
    }
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:#fff;}
    .brand img{height:36px; width:36px; border-radius:50%;}
    .brand .title{font-family:'Space Grotesk',system-ui,sans-serif; font-weight:800; letter-spacing:.02em;}
    .menu{display:flex; align-items:center; gap:18px}
    .menu a{
      position:relative; display:inline-flex; align-items:center;
      padding:10px 10px; text-decoration:none; color:#fff;
      font-weight:700; text-transform:uppercase; letter-spacing:.08em; font-size:12px; opacity:.9;
      transition:opacity .2s ease;
    }
    .menu a:hover{opacity:1}
    .menu a::after{
      content:""; position:absolute; left:12px; right:12px; bottom:6px; height:2px;
      background:linear-gradient(90deg, var(--accent1), var(--accent2));
      transform:scaleX(0); transform-origin:left; transition:transform .25s ease; border-radius:2px;
    }
    .menu a:hover::after{transform:scaleX(1)}
    .menu a[aria-current="page"]{opacity:1}
    .menu a[aria-current="page"]::after{transform:scaleX(1)}

    /* ===== Calendario ===== */
    main{max-width:1200px; width:92vw; margin:28px auto 64px}
    .cal-header{
      display:flex; align-items:center; justify-content:space-between;
      margin:10px 0 16px;
    }
    .cal-title{
      display:flex; align-items:center; gap:14px;
      font-family:'Space Grotesk',system-ui,sans-serif; text-transform:uppercase; letter-spacing:.04em;
    }
    .cal-title h1{margin:0; font-size:clamp(22px,3.4vw,28px)}
    .controls{
      display:flex; align-items:center; gap:8px;
      background:linear-gradient(180deg,var(--glass1),var(--glass2));
      border:1px solid var(--stroke); border-radius:14px;
      padding:6px 8px; box-shadow:0 10px 24px rgba(0,0,0,.35);
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      width:32px; height:32px; border-radius:10px;
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18);
      color:var(--fg); cursor:pointer; user-select:none;
      transition:transform .15s ease, background .2s ease, border-color .2s ease, opacity .2s ease;
    }
    .btn:hover{transform:translateY(-1px); background:rgba(255,255,255,.1); border-color:rgba(255,255,255,.3)}
    .month-pill{
      font-weight:800; padding:8px 12px; border-radius:10px;
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18);
      letter-spacing:.03em;
    }

    .weekday-row{
      display:grid; grid-template-columns:repeat(7,1fr); gap:14px; margin:18px 0 8px; padding:0 4px;
      color:var(--muted); font-weight:700; text-transform:uppercase; letter-spacing:.08em; font-size:12px;
    }
    .grid{
      display:grid; grid-template-columns:repeat(7,1fr); gap:14px;
    }
    .day{
      height:120px; border-radius:16px; background:#121214;
      border:1px solid var(--tile-border); position:relative; overflow:hidden;
      box-shadow:0 6px 16px rgba(0,0,0,.35);
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .day:hover{ transform:translateY(-2px); box-shadow:0 12px 26px rgba(0,0,0,.5); border-color:rgba(255,255,255,.22); }
    .day .num{
      position:absolute; top:8px; left:8px;
      min-width:26px; height:26px; padding:0 8px; display:inline-flex; align-items:center; justify-content:center;
      font-size:12px; font-weight:800; color:#dfefff;
      background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.22); border-radius:999px;
    }
    .day.today{
      outline:2px solid transparent;
      box-shadow:0 0 0 2px rgba(0,240,255,.25) inset, 0 10px 26px rgba(0,0,0,.5);
      border-color:rgba(0,240,255,.35);
    }
    .day .events{ position:absolute; inset:38px 10px 10px 10px; display:flex; flex-direction:column; gap:6px; }
    .pill{
      display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:10px;
      font-size:12px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.18);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .dot{width:8px; height:8px; border-radius:50%; background:linear-gradient(90deg,var(--accent1),var(--accent2))}
    @media (max-width: 820px){
      .day{height:90px}
      .weekday-row{gap:10px}
      .grid{gap:10px}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="nav-shell">
      <a class="brand" href="index.html" aria-label="Ir a inicio">
        <img src="logoarriba.jpg" alt="">
        <span class="title">EsZunSpace</span>
      </a>
      <nav class="menu">
        <a href="calendario.html">Calendario</a>
        <a href="cohetes.html">Cohetes</a>
        <a href="motores.html">Motores</a>
        <a href="#">Satélites</a>
        <a href="#">Lanzamientos</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="cal-header">
      <div class="cal-title">
        <h1>Calendario de lanzamientos</h1>
      </div>
      <div class="controls">
        <button class="btn" id="prev" aria-label="Mes anterior">◀</button>
        <span class="month-pill" id="monthLabel">octubre 2025</span>
        <button class="btn" id="next" aria-label="Mes siguiente">▶</button>
      </div>
    </div>

    <div class="weekday-row" aria-hidden="true">
      <div>Lun</div><div>Mar</div><div>Mié</div><div>Jue</div><div>Vie</div><div>Sáb</div><div>Dom</div>
    </div>

    <section class="grid" id="grid" role="grid" aria-label="Calendario mensual"></section>
  </main>

  <script>
    // ===== Header: marcador activo + transiciones =====
    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.add("fade-in");
      // marcar activo
      const path = location.pathname.split("/").pop() || "calendario.html";
      document.querySelectorAll(".menu a").forEach(a=>{
        if(a.getAttribute("href")===path) a.setAttribute("aria-current","page");
      });
      // transición suave
      document.querySelectorAll('a[href]').forEach(link=>{
        const url = new URL(link.href, location.href);
        if(url.origin===location.origin && !link.target){
          link.addEventListener("click", e=>{
            if(url.pathname===location.pathname && url.hash) return;
            e.preventDefault(); document.body.classList.add("fade-out");
            setTimeout(()=> location.href=url.href, 600);
          });
        }
      });
    });

    // ===== Calendario =====
    const monthLabel = document.getElementById('monthLabel');
    const grid = document.getElementById('grid');
    const btnPrev = document.getElementById('prev');
    const btnNext = document.getElementById('next');

    // Estado inicial: hoy
    let current = new Date();
    current.setDate(1); // al primer día del mes

    const MES = ['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre'];

    function firstDayMondayIndex(date){
      // devuelve índice 0..6 donde 0=Lunes, usando getDay() (0=Domingo)
      const d = new Date(date);
      const day = d.getDay(); // 0..6 (dom..sáb)
      return (day + 6) % 7;   // 0=lun, 6=dom
    }

    function daysInMonth(date){
      return new Date(date.getFullYear(), date.getMonth()+1, 0).getDate();
    }

    function isToday(d){
      const t = new Date();
      return d.getFullYear()===t.getFullYear() && d.getMonth()===t.getMonth() && d.getDate()===t.getDate();
    }

    // Render principal (sin días de otros meses: celdas vacías delante)
    function render(){
      const year = current.getFullYear();
      const month = current.getMonth();
      monthLabel.textContent = `${MES[month]} ${year}`;

      grid.innerHTML = '';
      const firstIdx = firstDayMondayIndex(current); // huecos al principio
      const total = daysInMonth(current);

      // añade huecos (celdas vacías)
      for(let i=0;i<firstIdx;i++){
        const cell = document.createElement('div');
        cell.className = 'day';
        grid.appendChild(cell);
      }

      // días del mes
      for(let day=1; day<=total; day++){
        const cell = document.createElement('div');
        cell.className = 'day';
        const date = new Date(year, month, day);
        if(isToday(date)) cell.classList.add('today');

        // número
        const num = document.createElement('span');
        num.className = 'num';
        num.textContent = day;

        // contenedor eventos (vacío por ahora)
        const events = document.createElement('div');
        events.className = 'events';
        // ejemplo para mostrar cómo se vería una píldora (puedes borrar esto):
        // if (Math.random() < 0.06) {
        //   const p = document.createElement('div');
        //   p.className = 'pill';
        //   p.innerHTML = '<span class="dot"></span> Ventana de lanzamiento';
        //   events.appendChild(p);
        // }

        cell.appendChild(num);
        cell.appendChild(events);
        grid.appendChild(cell);
      }
    }

    // Controles
    btnPrev.addEventListener('click', ()=>{ current.setMonth(current.getMonth()-1); render(); });
    btnNext.addEventListener('click', ()=>{ current.setMonth(current.getMonth()+1); render(); });

    // Inicia mostrando el mes actual
    render();

    // Si quieres abrir directamente en octubre 2025 (como tu captura), descomenta:
    // current = new Date(2025, 9, 1); render();
  </script>
</body>
</html>
